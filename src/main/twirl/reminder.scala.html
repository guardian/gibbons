@import com.gu.gibbons.model.{Key, User, UrlGenerator}
@(to: User, keys: Vector[Key], gen: UrlGenerator)

@shell("Your API keys are about to expire") {
  <table width="100%" cellpadding="0" cellspacing="0">
    <tr>
      <td class="content-block">
        <p>Dear @to.name,
          <br>
          <br>
          GDPR requires The Guardian to delete api keys that have not been used in the last 30 months. If you wish to retain access to the following keys, please confirm <a href="@gen.url(to)">here</a>, or by copy-pasting the following URL in your browser:
          
          @gen.url(to)

        <p><strong>If you do not take action within the next two weeks, your keys will be automatically deleted.</strong></p>
      </td>
    </tr>
    <tr>
      <td class="content-block">
        @keysTable(keys)
      </td>
    </tr>
  </table>
}